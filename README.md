# CMS-Orbit Comments Package

<div align="center">

![CMS-Orbit Comments](https://img.shields.io/badge/CMS--Orbit-Comments-blue?style=for-the-badge)
![Laravel](https://img.shields.io/badge/Laravel-11.x-red?style=for-the-badge)
![Vue.js](https://img.shields.io/badge/Vue.js-3.x-green?style=for-the-badge)
![License](https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge)

**ê°•ë ¥í•˜ê³  ìœ ì—°í•œ ëŒ“ê¸€ ì‹œìŠ¤í…œìœ¼ë¡œ ì›¹ì‚¬ì´íŠ¸ì— ìƒë™ê°ì„ ë”í•˜ì„¸ìš”!**

</div>

---

## ğŸ“‹ ëª©ì°¨

- [ì†Œê°œ](#-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ìŠ¤í¬ë¦°ìƒ·](#-ìŠ¤í¬ë¦°ìƒ·)
- [ì„¤ì¹˜ ë° ì„¤ì •](#-ì„¤ì¹˜-ë°-ì„¤ì •)
- [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
- [ìƒì„¸ ê°€ì´ë“œ](#-ìƒì„¸-ê°€ì´ë“œ)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ì»´í¬ë„ŒíŠ¸ ë ˆí¼ëŸ°ìŠ¤](#-ì»´í¬ë„ŒíŠ¸-ë ˆí¼ëŸ°ìŠ¤)
- [ê³ ê¸‰ ê¸°ëŠ¥](#-ê³ ê¸‰-ê¸°ëŠ¥)
- [ë¬¸ì œ í•´ê²°](#-ë¬¸ì œ-í•´ê²°)
- [ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)

---

## ğŸš€ ì†Œê°œ

CMS-Orbit Comments PackageëŠ” Laravel ê¸°ë°˜ ì›¹ì‚¬ì´íŠ¸ì— ê°•ë ¥í•˜ê³  ìœ ì—°í•œ ëŒ“ê¸€ ì‹œìŠ¤í…œì„ ì œê³µí•˜ëŠ” íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ëª¨ë¸ì— ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë©°, í‰ì  ì‹œìŠ¤í…œ, ë°˜ì‘ ê¸°ëŠ¥, ë‹µê¸€ ì‹œìŠ¤í…œ ë“± í’ë¶€í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

### âœ¨ íŠ¹ì§•

- **ğŸ”§ ëª¨ë¸ë³„ ë…ë¦½ ì„¤ì •**: ê° ëª¨ë¸ë§ˆë‹¤ ë‹¤ë¥¸ ëŒ“ê¸€ ì •ì±… ì„¤ì • ê°€ëŠ¥
- **â­ í‰ì  ì‹œìŠ¤í…œ**: ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬ í‰ì  ì§€ì›
- **ğŸ˜Š ë°˜ì‘ ì‹œìŠ¤í…œ**: ì´ëª¨ì§€ ê¸°ë°˜ ë°˜ì‘ ê¸°ëŠ¥
- **ğŸ’¬ ê³„ì¸µì  ë‹µê¸€**: ë¬´ì œí•œ ê¹Šì´ì˜ ë‹µê¸€ ì‹œìŠ¤í…œ
- **ğŸ‘¥ ê²ŒìŠ¤íŠ¸ ì§€ì›**: ë¡œê·¸ì¸ ì—†ì´ë„ ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥
- **ğŸ”’ ë³´ì•ˆ ê¸°ëŠ¥**: ìŠ¤íŒ¸ ë°©ì§€, ë¹„ë°€ê¸€, ê²€í†  ì‹œìŠ¤í…œ
- **ğŸ“± ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ì™„ë²½ ì§€ì›
- **ğŸŒ ë‹¤êµ­ì–´ ì§€ì›**: ì™„ì „í•œ êµ­ì œí™” ì§€ì›

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“ ê¸°ë³¸ ëŒ“ê¸€ ê¸°ëŠ¥
- âœ… **ëŒ“ê¸€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ**: ì™„ì „í•œ CRUD ê¸°ëŠ¥
- âœ… **ë‹µê¸€ ì‹œìŠ¤í…œ**: ê³„ì¸µì  ëŒ“ê¸€ êµ¬ì¡° ì§€ì›
- âœ… **í˜ì´ì§€ë„¤ì´ì…˜**: íš¨ìœ¨ì ì¸ ëŒ“ê¸€ ë¡œë”©
- âœ… **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: ìƒˆ ëŒ“ê¸€ ì‹¤ì‹œê°„ ë°˜ì˜

### â­ í‰ì  ì‹œìŠ¤í…œ
- âœ… **ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬**: ì „ì²´, ì„œë¹„ìŠ¤, ì‹œì„¤, ê°€ì¹˜ ë“±
- âœ… **ë°˜ë³„ í‰ì **: 0.5ë‹¨ìœ„ ì„¸ë°€í•œ í‰ì 
- âœ… **í‰ì  í†µê³„**: í‰ê· , ë¶„í¬, ìš”ì•½ ì •ë³´
- âœ… **ì»¤ìŠ¤í…€ í‰ì **: ëª¨ë¸ë³„ ë§ì¶¤ í‰ì  ì¹´í…Œê³ ë¦¬

### ğŸ˜Š ë°˜ì‘ ì‹œìŠ¤í…œ
- âœ… **ì´ëª¨ì§€ ë°˜ì‘**: ğŸ‘â¤ï¸ğŸ˜‚ğŸ˜®ğŸ˜¢ğŸ˜  ë“± ë‹¤ì–‘í•œ ë°˜ì‘
- âœ… **ë°˜ì‘ í†µê³„**: ê° ë°˜ì‘ë³„ ê°œìˆ˜ í‘œì‹œ
- âœ… **ì‚¬ìš©ìë³„ ë°˜ì‘**: ê°œì¸í™”ëœ ë°˜ì‘ ê´€ë¦¬

### ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬
- âœ… **ê²ŒìŠ¤íŠ¸ ëŒ“ê¸€**: ë¡œê·¸ì¸ ì—†ì´ ëŒ“ê¸€ ì‘ì„±
- âœ… **ì‚¬ìš©ì ì¸ì¦**: ë¡œê·¸ì¸ ì‚¬ìš©ì ëŒ“ê¸€
- âœ… **ì•„ë°”íƒ€ ì§€ì›**: ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€
- âœ… **ê¶Œí•œ ê´€ë¦¬**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### ğŸ”’ ë³´ì•ˆ ë° ê´€ë¦¬
- âœ… **ìŠ¤íŒ¸ ë°©ì§€**: í—ˆë‹ˆíŒŸ, ìš”ì²­ ì œí•œ
- âœ… **ê²€í†  ì‹œìŠ¤í…œ**: ê´€ë¦¬ì ìŠ¹ì¸/ê±°ë¶€
- âœ… **ë¹„ë°€ê¸€**: íŠ¹ì • ê¶Œí•œë§Œ ë³¼ ìˆ˜ ìˆëŠ” ëŒ“ê¸€
- âœ… **ì‹ ê³  ê¸°ëŠ¥**: ë¶€ì ì ˆí•œ ëŒ“ê¸€ ì‹ ê³ 

### ğŸ“± ì‚¬ìš©ì ê²½í—˜
- âœ… **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë“  ë””ë°”ì´ìŠ¤ ì§€ì›
- âœ… **ì ‘ê·¼ì„±**: WCAG ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- âœ… **í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜**: ì™„ì „í•œ í‚¤ë³´ë“œ ì§€ì›
- âœ… **ë¡œë”© ìƒíƒœ**: ì‚¬ìš©ì ì¹œí™”ì  ë¡œë”© í‘œì‹œ

---

## ğŸ“¸ ìŠ¤í¬ë¦°ìƒ·

### ëŒ“ê¸€ ì‘ì„± í™”ë©´
![ëŒ“ê¸€ ì‘ì„±](write_comment.png)

*ì‚¬ìš©ìê°€ ëŒ“ê¸€ì„ ì‘ì„±í•˜ëŠ” í™”ë©´ì…ë‹ˆë‹¤. í‰ì  ì‹œìŠ¤í…œê³¼ ë°˜ì‘ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.*

### ìŠ¤íŒ¸ ë°©ì§€ ë° ë¹„ë°€ê¸€ ê¸°ëŠ¥
![ìŠ¤íŒ¸ ë°©ì§€ ë° ë¹„ë°€ê¸€](spam_secret_comment.png)

*ìŠ¤íŒ¸ ë°©ì§€ ê¸°ëŠ¥ê³¼ ë¹„ë°€ê¸€ ì„¤ì •ì´ ì ìš©ëœ ê´€ë¦¬ì í™”ë©´ì…ë‹ˆë‹¤.*

---

## ğŸ›  ì„¤ì¹˜ ë° ì„¤ì •

### 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
composer require cms-orbit/comments
```

### 2. ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

```bash
php artisan migrate
```

### 3. ì„¤ì • íŒŒì¼ ë°œí–‰

```bash
php artisan vendor:publish --tag=orbit-comments-config
```

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì— ë‹¤ìŒ ì„¤ì •ì„ ì¶”ê°€í•˜ì„¸ìš”:

```env
# ëŒ“ê¸€ ì‹œìŠ¤í…œ ê¸°ë³¸ ì„¤ì •
COMMENTS_MODERATION_ENABLED=false
COMMENTS_RATINGS_ENABLED=true
COMMENTS_REACTIONS_ENABLED=true
COMMENTS_GUEST_ENABLED=true

# ë³´ì•ˆ ì„¤ì •
COMMENTS_SPAM_PROTECTION_ENABLED=true
COMMENTS_RATE_LIMIT_ENABLED=true
COMMENTS_RATE_LIMIT_MAX_ATTEMPTS=5
COMMENTS_RATE_LIMIT_DECAY_MINUTES=1

# í‘œì‹œ ì„¤ì •
COMMENTS_PER_PAGE=10
COMMENTS_MAX_DEPTH=5
COMMENTS_SHOW_AVATARS=true
COMMENTS_SHOW_TIMESTAMPS=true
```

---

## âš¡ ë¹ ë¥¸ ì‹œì‘

### 1. ëª¨ë¸ì— HasComments Trait ì¶”ê°€

```php
<?php

namespace App\Models;

use CmsOrbit\Comments\Traits\HasComments;
use Illuminate\Database\Eloquent\Model;

class Post extends Model
{
    use HasComments;
    
    // ëª¨ë¸ë³„ ëŒ“ê¸€ ì„¤ì • (ì„ íƒì‚¬í•­)
    public static function commentConfigs(): array
    {
        $baseConfigs = parent::commentConfigs();
        
        return array_merge($baseConfigs, [
            'moderation' => [
                'enabled' => true,
                'auto_approve' => false,
                'require_approval' => true,
            ],
            'ratings' => [
                'enabled' => true,
                'categories' => [
                    'custom' => [
                        'content_quality' => 'ì½˜í…ì¸  í’ˆì§ˆ',
                        'usefulness' => 'ìœ ìš©ì„±',
                        'readability' => 'ê°€ë…ì„±',
                    ],
                ],
            ],
            'display' => [
                'per_page' => 20,
                'max_depth' => 3,
            ],
        ]);
    }
}
```

### 2. Vue ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

```vue
<script setup>
import Comment from '@orbit/comments/Comment.vue'
</script>
<template>
    <div class="post-detail">
        <h1>{{ post.title }}</h1>
        <p>{{ post.content }}</p>
        
        <!-- ëŒ“ê¸€ ì‹œìŠ¤í…œ í˜¸ì¶œ -->
        <Comment
            :commentable-type="'App\\Models\\Post'"
            :commentable-id="post.id"
        />
    </div>
</template>

<script setup>
import { ref } from 'vue'
import Comment from '@orbit/comments/Comment.vue'

const post = ref({
    id: 1,
    title: 'ìƒ˜í”Œ í¬ìŠ¤íŠ¸',
    content: 'ì´ê²ƒì€ ìƒ˜í”Œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.'
})

const handleCommentAdded = (comment) => {
    console.log('ìƒˆ ëŒ“ê¸€ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:', comment)
}

const handleReplyAdded = (reply) => {
    console.log('ìƒˆ ë‹µê¸€ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:', reply)
}

const handleReactionToggled = (data) => {
    console.log('ë°˜ì‘ì´ í† ê¸€ë˜ì—ˆìŠµë‹ˆë‹¤:', data)
}

const handleRatingAdded = (data) => {
    console.log('í‰ì ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:', data)
}
</script>
```

### 3. ë¼ìš°íŠ¸ ì„¤ì •

```php
// routes/web.php
Route::get('/posts/{post}', function (Post $post) {
    return Inertia::render('Post/Show', [
        'post' => $post,
    ]);
});
```

---

## ğŸ“š ìƒì„¸ ê°€ì´ë“œ

### ëª¨ë¸ ì„¤ì •

#### ê¸°ë³¸ ì„¤ì •

ëª¨ë“  ëª¨ë¸ì€ `HasComments` traitì„ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ ëŒ“ê¸€ ê¸°ëŠ¥ì„ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```php
use CmsOrbit\Comments\Traits\HasComments;

class Product extends Model
{
    use HasComments;
}
```

#### ì»¤ìŠ¤í…€ ì„¤ì •

ëª¨ë¸ë³„ë¡œ ë‹¤ë¥¸ ëŒ“ê¸€ ì •ì±…ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```php
class Review extends Model
{
    use HasComments;
    
    public static function commentConfigs(): array
    {
        $baseConfigs = parent::commentConfigs();
        
        return array_merge($baseConfigs, [
            'moderation' => [
                'enabled' => true,
                'auto_approve' => false,
                'require_approval' => true,
            ],
            'ratings' => [
                'enabled' => true,
                'categories' => [
                    'overall' => [
                        'title' => 'ì „ì²´ í‰ê°€',
                        'required' => true,
                    ],
                    'service' => [
                        'title' => 'ì„œë¹„ìŠ¤ í’ˆì§ˆ',
                        'required' => false,
                    ],
                    'value' => [
                        'title' => 'ê°€ê²© ëŒ€ë¹„ ë§Œì¡±ë„',
                        'required' => false,
                    ],
                ],
            ],
            'reactions' => [
                'enabled' => true,
                'types' => [
                    'helpful' => 'ğŸ‘',
                    'love' => 'â¤ï¸',
                    'disagree' => 'ğŸ‘',
                ],
            ],
            'guest' => [
                'enabled' => false, // ë¦¬ë·°ëŠ” ë¡œê·¸ì¸ í•„ìˆ˜
            ],
            'display' => [
                'per_page' => 15,
                'max_depth' => 2,
                'show_avatars' => true,
                'show_timestamps' => true,
            ],
        ]);
    }
}
```

### ì„¤ì • íŒŒì¼

`config/orbit-comments.php` íŒŒì¼ì—ì„œ ì „ì—­ ì„¤ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```php
return [
    'moderation' => [
        'enabled' => env('COMMENTS_MODERATION_ENABLED', false),
        'auto_approve' => env('COMMENTS_AUTO_APPROVE', true),
        'require_approval' => env('COMMENTS_REQUIRE_APPROVAL', false),
    ],
    
    'ratings' => [
        'enabled' => env('COMMENTS_RATINGS_ENABLED', true),
        'max_rating' => env('COMMENTS_MAX_RATING', 5),
        'allow_half_ratings' => env('COMMENTS_ALLOW_HALF_RATINGS', true),
        'categories' => [
            'overall' => [
                'title' => __('Overall Rating'),
                'max_rating' => 5,
                'increment' => 0.5,
                'border_width' => 3,
                'border_color' => '#ffd700',
                'fill_color' => '#ffd700',
                'star_size' => 20,
                'star_spacing' => 2,
                'show_rating' => true,
                'read_only' => false,
                'disable_click' => false,
                'rtl' => false,
                'fixed_points' => null,
                'glow' => 0,
                'glow_color' => '#ffd700',
                'text_class' => 'text-sm text-gray-600',
                'required' => true,
            ],
            'service' => [
                'title' => __('Service Rating'),
                'max_rating' => 5,
                'increment' => 0.5,
                'border_width' => 2,
                'border_color' => '#3b82f6',
                'fill_color' => '#3b82f6',
                'star_size' => 18,
                'star_spacing' => 1,
                'show_rating' => true,
                'read_only' => false,
                'disable_click' => false,
                'rtl' => false,
                'fixed_points' => null,
                'glow' => 0,
                'glow_color' => '#3b82f6',
                'text_class' => 'text-sm text-gray-600',
                'required' => false,
            ],
            'facility' => [
                'title' => __('Facility Rating'),
                'max_rating' => 5,
                'increment' => 0.5,
                'border_width' => 2,
                'border_color' => '#8b5cf6',
                'fill_color' => '#8b5cf6',
                'star_size' => 18,
                'star_spacing' => 1,
                'show_rating' => true,
                'read_only' => false,
                'disable_click' => false,
                'rtl' => false,
                'fixed_points' => null,
                'glow' => 0,
                'glow_color' => '#8b5cf6',
                'text_class' => 'text-sm text-gray-600',
                'required' => false,
            ],
            'value' => [
                'title' => __('Value Rating'),
                'max_rating' => 5,
                'increment' => 0.5,
                'border_width' => 2,
                'border_color' => '#f59e0b',
                'fill_color' => '#f59e0b',
                'star_size' => 18,
                'star_spacing' => 1,
                'show_rating' => true,
                'read_only' => false,
                'disable_click' => false,
                'rtl' => false,
                'fixed_points' => null,
                'glow' => 0,
                'glow_color' => '#f59e0b',
                'text_class' => 'text-sm text-gray-600',
                'required' => false,
            ],
        ],
    ],
    
    'reactions' => [
        'enabled' => env('COMMENTS_REACTIONS_ENABLED', true),
        'types' => [
            'like' => 'ğŸ‘',
            'love' => 'â¤ï¸',
            'laugh' => 'ğŸ˜‚',
            'wow' => 'ğŸ˜®',
            'sad' => 'ğŸ˜¢',
            'angry' => 'ğŸ˜ ',
        ],
    ],
    
    'display' => [
        'per_page' => env('COMMENTS_PER_PAGE', 10),
        'max_depth' => env('COMMENTS_MAX_DEPTH', 5),
        'show_avatars' => env('COMMENTS_SHOW_AVATARS', true),
        'show_timestamps' => env('COMMENTS_SHOW_TIMESTAMPS', true),
    ],
    
    'guest' => [
        'enabled' => env('COMMENTS_GUEST_ENABLED', true),
        'require_captcha' => env('COMMENTS_GUEST_REQUIRE_CAPTCHA', true),
        'require_email' => env('COMMENTS_GUEST_REQUIRE_EMAIL', true),
        'require_name' => env('COMMENTS_GUEST_REQUIRE_NAME', true),
    ],
    
    'security' => [
        'rate_limit_enabled' => env('COMMENTS_RATE_LIMIT_ENABLED', true),
        'rate_limit_max_attempts' => env('COMMENTS_RATE_LIMIT_MAX_ATTEMPTS', 5),
        'rate_limit_decay_minutes' => env('COMMENTS_RATE_LIMIT_DECAY_MINUTES', 1),
        'spam_protection_enabled' => env('COMMENTS_SPAM_PROTECTION_ENABLED', true),
        'honeypot_field' => env('COMMENTS_HONEYPOT_FIELD', 'website'),
    ],
];
```

---

## ğŸ”Œ API ë¬¸ì„œ

### ëŒ“ê¸€ ì„¤ì • ì¡°íšŒ

```http
GET /api/orbit-comments/comment/configs?commentable_type=App\\Models\\Post
```

**ì‘ë‹µ ì˜ˆì œ:**
```json
{
    "success": true,
    "data": {
        "moderation": {
            "enabled": false,
            "auto_approve": true,
            "require_approval": false
        },
        "ratings": {
            "enabled": true,
            "categories": {
                "overall": {
                    "title": "Overall Rating",
                    "required": true
                }
            }
        },
        "reactions": {
            "enabled": true,
            "types": {
                "like": "ğŸ‘",
                "love": "â¤ï¸"
            }
        }
    }
}
```

### ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ

```http
GET /api/orbit-comments/comment?commentable_type=App\\Models\\Post&commentable_id=1&page=1&per_page=10
```

**ì‘ë‹µ ì˜ˆì œ:**
```json
{
    "success": true,
    "data": {
        "comments": [
            {
                "id": 1,
                "content": "ì •ë§ ì¢‹ì€ ê¸€ì´ë„¤ìš”!",
                "user": {
                    "id": 1,
                    "name": "ì‚¬ìš©ì",
                    "avatar": "https://example.com/avatar.jpg"
                },
                "ratings": {
                    "overall": 4.5
                },
                "reactions": {
                    "like": 3,
                    "love": 1
                },
                "created_at": "2024-01-01T00:00:00.000000Z",
                "replies": []
            }
        ],
        "pagination": {
            "current_page": 1,
            "last_page": 5,
            "per_page": 10,
            "total": 50
        }
    }
}
```

### ëŒ“ê¸€ ì‘ì„±

```http
POST /api/orbit-comments/comment
Content-Type: application/json

{
    "commentable_type": "App\\Models\\Post",
    "commentable_id": 1,
    "content": "ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤.",
    "guest_name": "ê²ŒìŠ¤íŠ¸ ì‚¬ìš©ì",
    "guest_email": "guest@example.com",
    "ratings": {
        "overall": 4.5,
        "service": 5.0
    }
}
```

**ì‘ë‹µ ì˜ˆì œ:**
```json
{
    "success": true,
    "data": {
        "id": 2,
        "content": "ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤.",
        "user": {
            "id": null,
            "name": "ê²ŒìŠ¤íŠ¸ ì‚¬ìš©ì",
            "avatar": null
        },
        "ratings": {
            "overall": 4.5,
            "service": 5.0
        },
        "created_at": "2024-01-01T00:00:00.000000Z"
    }
}
```

### ë°˜ì‘ í† ê¸€

```http
POST /api/orbit-comments/reactions/{comment_id}
Content-Type: application/json

{
    "type": "like"
}
```

### í‰ì  ì¶”ê°€

```http
POST /api/orbit-comments/ratings/{comment_id}
Content-Type: application/json

{
    "ratings": {
        "overall": 4.5,
        "service": 5.0
    }
}
```

---

## ğŸ§© ì»´í¬ë„ŒíŠ¸ ë ˆí¼ëŸ°ìŠ¤

### Comment ì»´í¬ë„ŒíŠ¸

ë©”ì¸ ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `commentableType` | String | - | ëŒ“ê¸€ì„ ì‘ì„±í•  ëª¨ë¸ì˜ í´ë˜ìŠ¤ëª… |
| `commentableId` | Number/String | - | ëŒ“ê¸€ì„ ì‘ì„±í•  ëª¨ë¸ì˜ ID |
| `initialComments` | Array | [] | ì´ˆê¸° ëŒ“ê¸€ ëª©ë¡ |
| `pagination` | Object | null | í˜ì´ì§€ë„¤ì´ì…˜ ì •ë³´ |

#### Events

| Event | Payload | Description |
|-------|---------|-------------|
| `comment-added` | `{comment}` | ìƒˆ ëŒ“ê¸€ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ |
| `reply-added` | `{reply, parentComment}` | ìƒˆ ë‹µê¸€ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ |
| `reaction-toggled` | `{commentId, type, count}` | ë°˜ì‘ì´ í† ê¸€ë˜ì—ˆì„ ë•Œ |
| `rating-added` | `{commentId, ratings}` | í‰ì ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ |

#### ì‚¬ìš© ì˜ˆì œ

```vue
<template>
    <Comment
        :commentable-type="'App\\Models\\Post'"
        :commentable-id="post.id"
        :initial-comments="post.comments"
        :pagination="post.comments_pagination"
        @comment-added="handleCommentAdded"
        @reply-added="handleReplyAdded"
        @reaction-toggled="handleReactionToggled"
        @rating-added="handleRatingAdded"
    />
</template>

<script setup>
import Comment from '@orbit/comments/Comment.vue'

const handleCommentAdded = (comment) => {
    console.log('ìƒˆ ëŒ“ê¸€:', comment)
}

const handleReplyAdded = (reply, parentComment) => {
    console.log('ìƒˆ ë‹µê¸€:', reply, 'ë¶€ëª¨ ëŒ“ê¸€:', parentComment)
}

const handleReactionToggled = (data) => {
    console.log('ë°˜ì‘ í† ê¸€:', data)
}

const handleRatingAdded = (data) => {
    console.log('í‰ì  ì¶”ê°€:', data)
}
</script>
```

### CommentItem ì»´í¬ë„ŒíŠ¸

ê°œë³„ ëŒ“ê¸€ì„ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `comment` | Object | - | ëŒ“ê¸€ ê°ì²´ |
| `maxDepth` | Number | 5 | ìµœëŒ€ ë‹µê¸€ ê¹Šì´ |
| `showAvatars` | Boolean | true | ì•„ë°”íƒ€ í‘œì‹œ ì—¬ë¶€ |
| `showTimestamps` | Boolean | true | ì‹œê°„ í‘œì‹œ ì—¬ë¶€ |
| `reactionsEnabled` | Boolean | true | ë°˜ì‘ ê¸°ëŠ¥ í™œì„±í™” ì—¬ë¶€ |
| `reactionTypes` | Object | - | ë°˜ì‘ íƒ€ì…ê³¼ ì´ëª¨ì§€ |
| `ratingCategories` | Object | - | í‰ì  ì¹´í…Œê³ ë¦¬ |

### StarRating ì»´í¬ë„ŒíŠ¸

ë³„ì  í‰ì  ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `modelValue` | Number | 0 | í˜„ì¬ í‰ì  ê°’ |
| `ratingCategory` | Object | - | í‰ì  ì¹´í…Œê³ ë¦¬ ì„¤ì • ê°ì²´ |
| `showLabel` | Boolean | true | ë¼ë²¨ í‘œì‹œ ì—¬ë¶€ |
| `readOnly` | Boolean | undefined | ì½ê¸° ì „ìš© ì—¬ë¶€ |

#### Events

| Event | Payload | Description |
|-------|---------|-------------|
| `rating-changed` | `{category, rating}` | í‰ì ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ |

#### ì‚¬ìš© ì˜ˆì œ

```vue
<template>
    <div class="rating-section">
        <h3>í‰ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</h3>
        
        <!-- ì „ì²´ í‰ì  -->
        <StarRating
            v-model="ratings.overall"
            :rating-category="ratingCategories.overall"
            @rating-changed="handleRatingChanged"
        />
        
        <!-- ì„œë¹„ìŠ¤ í‰ì  -->
        <StarRating
            v-model="ratings.service"
            :rating-category="ratingCategories.service"
            @rating-changed="handleRatingChanged"
        />
        
        <!-- ì‹œì„¤ í‰ì  -->
        <StarRating
            v-model="ratings.facility"
            :rating-category="ratingCategories.facility"
            @rating-changed="handleRatingChanged"
        />
    </div>
</template>

<script setup>
import { ref } from 'vue'
import StarRating from '@orbit/comments/Components/StarRating.vue'

const ratings = ref({
    overall: 0,
    service: 0,
    facility: 0
})

const ratingCategories = ref({
    overall: {
        title: 'ì „ì²´ í‰ê°€',
        max_rating: 5,
        increment: 0.5,
        border_width: 3,
        border_color: '#ffd700',
        fill_color: '#ffd700',
        star_size: 20,
        star_spacing: 2,
        show_rating: true,
        read_only: false,
        disable_click: false,
        rtl: false,
        fixed_points: null,
        glow: 0,
        glow_color: '#ffd700',
        text_class: 'text-sm text-gray-600',
        required: true,
    },
    service: {
        title: 'ì„œë¹„ìŠ¤ í’ˆì§ˆ',
        max_rating: 5,
        increment: 0.5,
        border_width: 2,
        border_color: '#3b82f6',
        fill_color: '#3b82f6',
        star_size: 18,
        star_spacing: 1,
        show_rating: true,
        read_only: false,
        disable_click: false,
        rtl: false,
        fixed_points: null,
        glow: 0,
        glow_color: '#3b82f6',
        text_class: 'text-sm text-gray-600',
        required: false,
    },
    facility: {
        title: 'ì‹œì„¤ ìƒíƒœ',
        max_rating: 5,
        increment: 0.5,
        border_width: 2,
        border_color: '#8b5cf6',
        fill_color: '#8b5cf6',
        star_size: 18,
        star_spacing: 1,
        show_rating: true,
        read_only: false,
        disable_click: false,
        rtl: false,
        fixed_points: null,
        glow: 0,
        glow_color: '#8b5cf6',
        text_class: 'text-sm text-gray-600',
        required: false,
    }
})

const handleRatingChanged = (data) => {
    console.log('í‰ì  ë³€ê²½:', data.category, data.rating)
    ratings.value[data.category] = data.rating
}
</script>
```

---

## ğŸ”§ ê³ ê¸‰ ê¸°ëŠ¥

### ëª¨ë¸ ë©”ì„œë“œ

HasComments traitì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë“¤:

```php
// ëŒ“ê¸€ ê´€ê³„
$model->comments(); // ëª¨ë“  ëŒ“ê¸€
$model->approvedComments(); // ìŠ¹ì¸ëœ ëŒ“ê¸€ë§Œ
$model->topLevelComments(); // ìµœìƒìœ„ ëŒ“ê¸€ë§Œ
$model->pendingComments(); // ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ëŒ“ê¸€

// ëŒ“ê¸€ ì¶”ê°€
$model->addComment($data);
$model->addReply($parentComment, $data);

// ëŒ“ê¸€ ìˆ˜
$model->comment_count; // ëŒ“ê¸€ ìˆ˜
$model->reply_count; // ë‹µê¸€ ìˆ˜
$model->total_comment_count; // ì „ì²´ ëŒ“ê¸€ ìˆ˜

// í‰ì 
$model->average_rating; // í‰ê·  í‰ì 
$model->rating_count; // í‰ì  ìˆ˜
$model->rating_summary; // í‰ì  ìš”ì•½

// í˜ì´ì§€ë„¤ì´ì…˜
$model->getPaginatedComments($perPage);

// ìµœê·¼/ì¸ê¸° ëŒ“ê¸€
$model->getRecentComments($limit);
$model->getPopularComments($limit);

// í‰ì  í†µê³„
$model->getRatingStats();
$model->getRatingDistribution();
```

### ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸

ëŒ“ê¸€ ì‹œìŠ¤í…œì€ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤:

```php
// ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
Event::listen(CommentCreated::class, function ($event) {
    // ëŒ“ê¸€ì´ ìƒì„±ë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œ
    Log::info('ìƒˆ ëŒ“ê¸€ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤: ' . $event->comment->id);
});

Event::listen(CommentUpdated::class, function ($event) {
    // ëŒ“ê¸€ì´ ìˆ˜ì •ë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œ
});

Event::listen(CommentDeleted::class, function ($event) {
    // ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œ
});

Event::listen(ReactionToggled::class, function ($event) {
    // ë°˜ì‘ì´ í† ê¸€ë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œ
});

Event::listen(RatingAdded::class, function ($event) {
    // í‰ì ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œ
});
```

### ì•Œë¦¼ ì‹œìŠ¤í…œ

ëŒ“ê¸€ ê´€ë ¨ ì•Œë¦¼ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```php
// ì•Œë¦¼ í´ë˜ìŠ¤ ìƒì„±
class CommentNotification extends Notification
{
    public function __construct(public Comment $comment)
    {
    }

    public function toMail($notifiable)
    {
        return (new MailMessage)
            ->subject('ìƒˆ ëŒ“ê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤')
            ->line('ìƒˆë¡œìš´ ëŒ“ê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.')
            ->line('ë‚´ìš©: ' . $this->comment->content)
            ->action('ëŒ“ê¸€ ë³´ê¸°', url('/posts/' . $this->comment->commentable_id));
    }
}

// ì•Œë¦¼ ë°œì†¡
$post->user->notify(new CommentNotification($comment));
```

### API ë¯¸ë“¤ì›¨ì–´

ëŒ“ê¸€ APIì— ì»¤ìŠ¤í…€ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```php
// routes/api.php
Route::prefix('orbit-comments')->middleware(['auth:sanctum', 'throttle:60,1'])->group(function () {
    Route::get('/comment/configs', [CommentController::class, 'getConfigs']);
    Route::get('/comment', [CommentController::class, 'index']);
    Route::post('/comment', [CommentController::class, 'store']);
    Route::put('/comment/{comment}', [CommentController::class, 'update']);
    Route::delete('/comment/{comment}', [CommentController::class, 'destroy']);
    
    Route::post('/reactions/{comment}', [ReactionController::class, 'toggle']);
    Route::post('/ratings/{comment}', [RatingController::class, 'store']);
});
```

---

## ğŸ›  ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

#### 1. ëŒ“ê¸€ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ì›ì¸**: ëª¨ë¸ì— `HasComments` traitì´ ì¶”ê°€ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì„¤ì •ì´ ì˜ëª»ë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²°ë°©ë²•**:
```php
// ëª¨ë¸ì— trait ì¶”ê°€ í™•ì¸
use CmsOrbit\Comments\Traits\HasComments;

class Post extends Model
{
    use HasComments;
}
```

#### 2. í‰ì ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ

**ì›ì¸**: ì„¤ì •ì—ì„œ í‰ì  ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì—ˆê±°ë‚˜ ì¹´í…Œê³ ë¦¬ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²°ë°©ë²•**:
```php
// ì„¤ì • í™•ì¸
'ratings' => [
    'enabled' => true,
    'categories' => [
        'overall' => [
            'title' => 'ì „ì²´ í‰ê°€',
            'required' => true,
        ],
    ],
],
```

#### 3. ë°˜ì‘ ê¸°ëŠ¥ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ

**ì›ì¸**: ë°˜ì‘ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì—ˆê±°ë‚˜ íƒ€ì…ì´ ì •ì˜ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²°ë°©ë²•**:
```php
// ì„¤ì • í™•ì¸
'reactions' => [
    'enabled' => true,
    'types' => [
        'like' => 'ğŸ‘',
        'love' => 'â¤ï¸',
    ],
],
```

#### 4. ê²ŒìŠ¤íŠ¸ ëŒ“ê¸€ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ

**ì›ì¸**: ê²ŒìŠ¤íŠ¸ ê¸°ëŠ¥ì´ ë¹„í™œì„±í™”ë˜ì—ˆê±°ë‚˜ í•„ìˆ˜ í•„ë“œê°€ ëˆ„ë½ë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²°ë°©ë²•**:
```php
// ì„¤ì • í™•ì¸
'guest' => [
    'enabled' => true,
    'require_email' => true,
    'require_name' => true,
],
```

### ë””ë²„ê¹… íŒ

#### 1. ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸

```javascript
// Vue ì»´í¬ë„ŒíŠ¸ì—ì„œ ë””ë²„ê¹…
const handleCommentAdded = (comment) => {
    console.log('ëŒ“ê¸€ ì¶”ê°€ë¨:', comment)
}

const handleError = (error) => {
    console.error('ëŒ“ê¸€ ì—ëŸ¬:', error)
}
```

#### 2. ë„¤íŠ¸ì›Œí¬ íƒ­ í™•ì¸

API ìš”ì²­ê³¼ ì‘ë‹µì„ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 3. ë¡œê·¸ í™•ì¸

```bash
# Laravel ë¡œê·¸ í™•ì¸
tail -f storage/logs/laravel.log
```

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ì´ í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼ì£¼ì„¸ìš”:

### 1. ì €ì¥ì†Œ í¬í¬

GitHubì—ì„œ ì €ì¥ì†Œë¥¼ í¬í¬í•˜ì„¸ìš”.

### 2. ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
git clone https://github.com/your-username/cms-orbit-comments.git
cd cms-orbit-comments
composer install
npm install
```

### 3. ë¸Œëœì¹˜ ìƒì„±

```bash
git checkout -b feature/your-feature-name
```

### 4. ë³€ê²½ì‚¬í•­ ì»¤ë°‹

```bash
git add .
git commit -m "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"
```

### 5. Pull Request ìƒì„±

GitHubì—ì„œ Pull Requestë¥¼ ìƒì„±í•˜ì„¸ìš”.

### ê°œë°œ ê°€ì´ë“œë¼ì¸

- **ì½”ë“œ ìŠ¤íƒ€ì¼**: PSR-12 í‘œì¤€ì„ ë”°ë¦…ë‹ˆë‹¤.
- **í…ŒìŠ¤íŠ¸**: ìƒˆë¡œìš´ ê¸°ëŠ¥ì—ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.
- **ë¬¸ì„œ**: API ë³€ê²½ì‚¬í•­ì€ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•´ì£¼ì„¸ìš”.
- **ì»¤ë°‹ ë©”ì‹œì§€**: Conventional Commits í˜•ì‹ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ğŸ™ ê°ì‚¬ì˜ ë§

ì´ íŒ¨í‚¤ì§€ ê°œë°œì— ë„ì›€ì„ ì£¼ì‹  ëª¨ë“  ë¶„ë“¤ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.

- [Laravel](https://laravel.com/) - PHP ì›¹ í”„ë ˆì„ì›Œí¬
- [Vue.js](https://vuejs.org/) - JavaScript í”„ë ˆì„ì›Œí¬
- [Tailwind CSS](https://tailwindcss.com/) - CSS í”„ë ˆì„ì›Œí¬

---

<div align="center">

**CMS-Orbit Comments Package**ë¡œ ì›¹ì‚¬ì´íŠ¸ì— ìƒë™ê°ì„ ë”í•˜ì„¸ìš”! ğŸš€

[ë¬¸ì„œ](https://docs.cms-orbit.com/comments) â€¢ [ì´ìŠˆ](https://github.com/cms-orbit/comments/issues) â€¢ [ê¸°ì—¬í•˜ê¸°](https://github.com/cms-orbit/comments/pulls)

</div>
